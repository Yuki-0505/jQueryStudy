<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <button>点击</button>
  <input type="text" value="知道">
  <ul>
    <li>知否知否，应是绿肥红瘦</li>
    <li>知否知否，应是绿肥红瘦</li>
    <li>知否知否，应是绿肥红瘦</li>
    <li>知否知否，应是绿肥红瘦</li>
  </ul>
  <script src="../js/jquery-3.5.1.js"></script>
  <script>
    /**
     * 事件捕获
     * 先执行父元素的事件，再执行子元素的事件
     * 事件冒泡
     * 先执行子元素的事件，再执行父元素的事件
     */
    let input = document.querySelector('input')

    function fn(event) {
      console.log('addEventListener click')
    }
    // 方法监听，true表示事件捕获，false表示事件冒泡，默认false
    input.addEventListener('click', fn, true)
    // 移除事件
    input.removeEventListener('click', fn)

    // 获取到焦点
    input.onfocus = function (event) {
      console.log('得到焦点')
    }
    input.onblur = function (event) {
      console.log('失去焦点')
    }
    // 删除事件
    input.onclick = null
    /**
     * onmouseover  鼠标经过，存在事件冒泡
     * onmouseout   鼠标离开，存在事件冒泡
     * onmousemove  鼠标移动
     * onmouseup    鼠标弹起
     * onmousedown  鼠标按下
     * 以下事件没有事件冒泡
     * onfocus      得到焦点
     * onblur       失去焦点
     * onmouseenter 鼠标经过，无事件冒泡
     * onmouseleave 鼠标离开，无事件冒泡
     */
    /**
     * event的属性
     * target   触发事件的元素，在事件冒泡中是子元素
     * type     事件的类型
     * preventDefault()   阻止默认事件，如<a/>的跳转
     * 在回调函数中 return false 也可阻止默认事件
     * stopPropagation()  阻止冒泡，event不会再向上呈递
     * clientX clientY  相对于浏览器窗口的坐标
     * pageX pageY      相对于文档页面的坐标
     * screenX screenY  相对于屏幕的坐标
     * keyCode    键盘码
     */
    /**
     * 事件委托，将事件监听器设置在父节点上，利用事件冒泡影响子节点
     */
    let ul = document.querySelector('ul')
    ul.addEventListener('mouseover', function (e) {
      e.target.style.backgroundColor = 'pink'
    })
    ul.addEventListener('mouseout', function (e) {
      e.target.style.backgroundColor = 'white'
    })
    /**
     * onkeyup    不区分大小写，a和A的keyCode都为65
     * onkeydown  不区分大小写
     * onkeypress 按键按下，不能识别功能键，如ctrl，shift，方向键等，先于keydown事件触发
     */

  </script>
  <script>
    $(function () {
      // on委托注册
      // 动态注册
      $('body').on('click', 'button', function () {
        $('body').append($('<button>点击</button>'))
      })
      // 解绑所有事件
      $('button').off()
      // 解绑单击事件
      $('button').off('click')
      // 代码方式触发事件
      $('button').trigger('click')
    })

  </script>
</body>

</html>
